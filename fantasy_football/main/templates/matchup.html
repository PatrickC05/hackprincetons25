{% extends "base.html" %}

{% block title %}Matchup{% endblock %}

{% block content %}
    <div class="matchup-container">
        <!-- Team 1 -->
        <div class="team">
            <h2><a href="{% url 'team' %}{{ team1id }}">{{ team1name }}</a></h2>
            <!-- Display the team name as a link to the team page -->
            {% if first_user_id == user.id %}
                <p>(You)</p>
            {% endif %}
            <p>Score: <span id="team1score">{{ team1score }}</span></p>
            <table>
                <thead>
                    <tr>
                        <th>Sector</th>
                        <th>Name</th>
                        <th>Ticker</th>
                        <th>Points</th>
                    </tr>
                </thead>
                <tbody>
                    {% for stock in first_user_sectors %}
                    <tr>
                        {% for sector, abbs in sector_abbs.items %}{% if sector == stock.sector %}<td>{{ abbs }}</td>{% endif %}{% endfor %}
                        <td><a href="{% url 'stock_detail' stock.ticker %}">{{ stock.name }}</a></td>
                        <td>({{ stock.ticker }})</td>
                        {% for ticker, points in stock_scores.items %}{% if ticker == stock.ticker %}<td>{{ points }}</td>{% endif %}{% endfor %}
                    </tr>
                    {% endfor %}
                    {% for stock in first_user_flex %}
                    <tr>
                        <td>FLEX</td>
                        <td><a href="{% url 'stock_detail' stock.ticker %}">{{ stock.name }}</a></td>
                        <td>({{ stock.ticker }})</td>
                        {% for ticker, points in stock_scores.items %}{% if ticker == stock.ticker %}<td>{{ points }}</td>{% endif %}{% endfor %}
                    </tr>
                    {% endfor %}
                    {% for stock in first_user_bench %}
                    <tr>
                        <td>BENCH</td>
                        <td>{{ stock.name }}</td>
                        <td>({{ stock.ticker }})</td>
                        {% for ticker, points in stock_scores.items %}{% if ticker == stock.ticker %}<td>{{ points }}</td>{% endif %}{% endfor %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <p class="vs-text">VS</p>

        <!-- Team 2 -->
        <div class="team">
            <h2><a href="{% url 'team' %}{{ team2id }}">{{ team2name }}</a></h2>
            <p>Score: <span id="team2score">{{team2score}}</span></p>
            <table>
                <thead>
                    <tr>
                        <th>Sector</th>
                        <th>Name</th>
                        <th>Ticker</th>
                        <th>Points</th>
                    </tr>
                </thead>
                <tbody>
                    {% for stock in second_user_sectors %}
                    <tr>
                        {% for sector, abbs in sector_abbs.items %}{% if sector == stock.sector %}<td>{{ abbs }}</td>{% endif %}{% endfor %}
                        <td><a href="{% url 'stock_detail' stock.ticker %}">{{ stock.name }}</a></td>
                        <td>({{ stock.ticker }})</td>
                        {% for ticker, points in stock_scores.items %}{% if ticker == stock.ticker %}<td>{{ points }}</td>{% endif %}{% endfor %}
                    </tr>
                    {% endfor %}
                    {% for stock in second_user_flex %}
                    <tr>
                        <td>FLEX</td>
                        <td><a href="{% url 'stock_detail' stock.ticker %}">{{ stock.name }}</a></td>
                        <td>({{ stock.ticker }})</td>
                        {% for ticker, points in stock_scores.items %}{% if ticker == stock.ticker %}<td>{{ points }}</td>{% endif %}{% endfor %}
                    </tr>
                    {% endfor %}
                    {% for stock in second_user_bench %}
                    <tr>
                        <td>BENCH</td>
                        <td>{{ stock.name }}</td>
                        <td>({{ stock.ticker }})</td>
                        {% for ticker, points in stock_scores.items %}{% if ticker == stock.ticker %}<td>{{ points }}</td>{% endif %}{% endfor %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}